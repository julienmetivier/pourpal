rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read, create, update, and delete access to drinks collection
    match /drinks/{drinkId} {
      allow read: if true;
      allow create: if true; // Allow creating drinks (for manager/bartender)
      allow update: if true; // Allow updating drinks (e.g., availability status)
      allow delete: if true; // Allow deleting drinks (for manager/bartender)
    }
    
    // Allow read and write access to orders collection
    match /orders/{orderId} {
      allow read: if true; // Allow reading orders for bartender view
      allow create: if true; // Allow creating orders from client
      allow update: if true; // Allow updating orders (for admin to reject, backend to mark as done)
      allow delete: if false; // Prevent deletion of orders
    }
    
    // Allow read and write access to settings collection
    match /settings/{settingId} {
      allow read: if true; // Allow reading settings (e.g., bar status)
      allow create, update: if true; // Allow updating settings (for admin)
      allow delete: if false; // Prevent deletion of settings
    }
    
    // Allow read and write access to ingredients collection
    match /ingredients/{ingredientId} {
      allow read: if true; // Allow reading ingredients
      allow create, update: if true; // Allow creating/updating ingredients (for admin)
      allow delete: if false; // Prevent deletion of ingredients
    }
  }
}

